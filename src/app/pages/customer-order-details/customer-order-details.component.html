<div class="container-fluid">

    <div class="container" style="margin-top: 2%;">
      <div style="display: flex; justify-content: right; margin-bottom: 2%;">
        <div class="d-flex" style="margin: 5px 0px;">
          <div class="text-left text-sm-right"><a class="btn btn-outline-primary btn-rounded btn-sm" data-toggle="modal" data-target="#orderDetails" routerLink="/customer/order/{{order.id}}" (click)="back()" >Back to Orders</a></div>
        </div>
      </div>      
      <!-- Main content -->
      <div class="row">
        <div class="col-lg-8">
          <!-- Details -->
          <div class="card mb-4">
            <div class="card-body">
              <div class="mb-4">
                <h3 class="h4 font-weight-bold text-theme" style="margin-left: 1.3%;">Order Details</h3>
              </div>
              <div class="mb-3 d-flex justify-content-between">
                <div  style="margin-left: 1.3%;">
                  <span class="me-3" style="margin-right: 20px; font: 18px; font-weight: 700;">Order - #{{order.id}}</span>
                  <span *ngIf="order.status == 'pending'" class="badge rounded-pill" style="color: white; background-color: #fc9700; padding: 8px 10px; margin: 5px 0px;">Pending</span>
                  <span *ngIf="order.status == 'accepted'" class="badge rounded-pill" style="color: white; background-color: #019fe0; padding: 8px 10px; margin: 5px 0px;">Accepted</span>
                  <span *ngIf="order.status == 'completed'" class="badge rounded-pill" style="color: white; background-color: #60c060; padding: 8px 10px; margin: 5px 0px;">Completed</span>
                  <span *ngIf="order.status == 'rejected'" class="badge rounded-pill" style="color: white; background-color: #da4932; padding: 8px 10px; margin: 5px 0px;">Rejected</span>
                  <span *ngIf="order.status == 'cancelled'" class="badge rounded-pill" style="color: white; background-color: #da4932; padding: 8px 10px; margin: 5px 0px;">Cancelled</span>
                </div>
                <!-- <div class="d-flex">                  
                  <div class="dropdown">
                    <button class="btn btn-link p-0 text-muted" type="button" data-bs-toggle="dropdown">
                      <i class="bi bi-three-dots-vertical"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                      <li><a class="dropdown-item" href="#"><i class="bi bi-pencil"></i> Edit</a></li>
                      <li><a class="dropdown-item" href="#"><i class="bi bi-printer"></i> Print</a></li>
                    </ul>
                  </div>
                </div> -->
                <label *ngIf="!EditStatus" for="file_input_id" class="edit-link" (click)="editToggle()">Edit Order</label>
              </div>              
              <label style="margin-left: 1.5%;" *ngIf="!EditStatus" for="file_input_id" class="edit-link">Add Item</label>
              <table class="table table-borderless">
                <tbody>
                  <tr>
                    <td>
                      <div class="d-flex mb-2">
                        <div class="flex-lg-grow-1 ms-3">
                          <h6 class="small mb-0"><a class="text-reset">Wireless Headphones with Noise Cancellation Tru Bass Bluetooth HiFi</a></h6>
                          <span class="small">Color: Black</span>
                        </div>
                      </div>
                    </td>
                    <td></td>
                    <td class="text-end" style="text-align: right;">Rs.70</td>
                    <td *ngIf="EditStatus">
                      <img style="height: 15px; cursor: pointer;" class="quantity-img" src="../../../assets/edit.svg">
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="d-flex mb-2">
                        <div class="flex-lg-grow-1 ms-3">
                          <h6 class="small mb-0"><a class="text-reset">Smartwatch IP68 Waterproof GPS and Bluetooth Support</a></h6>
                          <span class="small">Color: White</span>
                        </div>
                      </div>
                    </td>
                    <td></td>
                    <td class="text-end" style="text-align: right;">Rs.70</td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr class="fw-bold">
                    <td colspan="2">TOTAL</td>
                    <td class="text-end" style="text-align: right;">Rs.140</td>
                  </tr>
                </tfoot>
              </table>
              <button *ngIf="order.status == 'pending' && !EditStatus" class="btn form-button" type="button">Accept Order</button>
              <button *ngIf="order.status == 'accepted' && !EditStatus" class="btn form-button green" type="button">Complete Order</button>
              <div style=" height: fit-content; display: flex; justify-content: space-between; flex-direction: row; margin-top: 5%;  align-items: center; width: 100%; flex-wrap:wrap;">
                <button *ngIf="EditStatus" class="btn form-button red" type="button" (click)="editToggle()">Cancel</button>
                <button *ngIf="EditStatus" class="btn form-button" type="button">Update Order</button>
            </div>
            </div>
          </div>
          <!-- Customer -->
          <div class="card mb-4">
            <div class="card-body">
              <div class="mb-4">
                <h3 class="h4 font-weight-bold text-theme" style="margin-left: 1.3%;">Customer Details</h3>
              </div>
              <div class="row" style="margin: 0.1%;">
                <div class="col-lg-6">
                  <h3 class="h6"><strong>Customer</strong></h3>
                  <p>Name: {{customer.first_name}}<br>       
                  <abbr title="Phone"></abbr> Email : {{customer.email}}<br>           
                  <abbr title="Phone"></abbr> Contact: {{customer.mobile_no}}
                </div>
                <div class="col-lg-6">
                  <h3 class="h6"><strong>Address</strong></h3>                  
                  <address>
                    
                    {{customer.address}}<br>                    
                  </address>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <!-- Prescription -->
          <div class="card mb-4">
            <div class="card-body">
              <div class="mb-4">
                <h3 class="h4 font-weight-bold text-theme" style="margin-left: 1.3%;">Prescription</h3>
              </div>
              <img style="width: 100%;" [src]="order.url">
              <div style=" height: fit-content; display: flex; justify-content: left; flex-direction: row; margin-top: 5%;  width: 100%;">
                <button class="btn form-button" type="button">Approve Order</button>
            </div> 
            </div>
          </div>
        </div>
    </div>
    <!-- Customer -->
    <div class="card mb-4">
      <div class="card-body">
        <div class="mb-4">
          <h3 class="h4 font-weight-bold text-theme" style="margin-left: 1.3%;">Reject Order</h3>
        </div>
        <div class="row" style="margin: 0.1%;">
          <div class="col-lg-6">
              <select class="form-control" required name="customer-access" >
                  <option value="" disabled selected>Select reason</option>
                  <option value="unclear prescription image">Unclear Prescription Image</option>
                  <option value="suspicious prescription">Suspicious Prescription</option>
                  <option value="requested drugs unavailable">Requested Drugs Unavailable</option>
              </select><br>
              <button style="margin-left: 0px;" class="btn form-button red" type="button">Reject Order</button>
          </div>
        </div>
      </div>
    </div>
</div>